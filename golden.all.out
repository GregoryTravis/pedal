~/pedal/lib/board ~/pedal
~/pedal
~/pedal/lib/shared ~/pedal
~/pedal
~/pedal/lib/host ~/pedal
~/pedal
~/pedal/lib/shim ~/pedal
rm -fR build
rm -f build/pedal.{bin,hex,map,elf}
~/pedal
~/pedal/board ~/pedal
~/pedal
~/pedal/host ~/pedal
~/pedal
~/pedal/board ~/pedal
   Compiling semver-parser v0.7.0
   Compiling nb v1.1.0
   Compiling libm v0.2.8
   Compiling void v1.0.2
   Compiling cortex-m v0.7.7
   Compiling vcell v0.1.3
   Compiling libc v0.2.151
   Compiling bitfield v0.13.2
   Compiling volatile-register v0.2.2
   Compiling nb v0.1.3
   Compiling circular-buffer v0.1.6
   Compiling embedded-hal v0.2.7
   Compiling spin v0.9.8
   Compiling linked_list_allocator v0.10.5
   Compiling emballoc v0.2.0
   Compiling semver v0.9.0
   Compiling rustc_version v0.2.3
   Compiling bare-metal v0.2.5
   Compiling shared v0.1.0 (/Users/gmt/pedal/lib/shared)
   Compiling alloc-cortex-m v0.4.4
   Compiling board v0.1.0 (/Users/gmt/pedal/lib/board)
   Compiling pedalhost v0.1.0 (/Users/gmt/pedal/host)
   Compiling pedalboard v0.1.0 (/Users/gmt/pedal/board)
    Finished dev [unoptimized + debuginfo] target(s) in 1.20s
~/pedal
~/pedal/lib/shim ~/pedal
rm -f build/pedal.{bin,hex,map,elf}
mkdir build
arm-none-eabi-gcc -c -mcpu=cortex-m7 -mthumb -mfpu=fpv5-d16 -mfloat-abi=hard -DPEDAL_MAIN=reso_main -DUSE_HAL_DRIVER -DSTM32H750xx -DHSE_VALUE=16000000  -DCORE_CM7 -DSTM32H750IB -DARM_MATH_CM7 -DUSE_FULL_LL_DRIVER -DBOOT_APP -include stm32h7xx.h -I../../../DaisyExamples/libDaisy -I../../../DaisyExamples/libDaisy/src/ -I../../../DaisyExamples/libDaisy/src/sys -I../../../DaisyExamples/libDaisy/src/usbd -I../../../DaisyExamples/libDaisy/src/usbh -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/Include/ -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/DSP/Include -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/Device/ST/STM32H7xx/Include -I../../../DaisyExamples/libDaisy/Drivers/STM32H7xx_HAL_Driver/Inc/ -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Device_Library/Core/Inc -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Host_Library/Core/Inc -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc -I../../../DaisyExamples/libDaisy/core/ -I../../../DaisyExamples/DaisySP/Source -I../../../DaisyExamples/libDaisy/Middlewares/Third_Party/FatFs/src -O2 -Wall -Wno-missing-attributes -fasm -fdata-sections -ffunction-sections -Wno-stringop-overflow -g -ggdb -MMD -MP -MF"build/startup_stm32h750xx.d" -std=gnu11 -Wa,-a,-ad,-alms=build/startup_stm32h750xx.lst ../../../DaisyExamples/libDaisy/core/startup_stm32h750xx.c -o build/startup_stm32h750xx.o
arm-none-eabi-g++  -c -mcpu=cortex-m7 -mthumb -mfpu=fpv5-d16 -mfloat-abi=hard -DPEDAL_MAIN=reso_main -DUSE_HAL_DRIVER -DSTM32H750xx -DHSE_VALUE=16000000  -DCORE_CM7 -DSTM32H750IB -DARM_MATH_CM7 -DUSE_FULL_LL_DRIVER -DBOOT_APP -include stm32h7xx.h -I../../../DaisyExamples/libDaisy -I../../../DaisyExamples/libDaisy/src/ -I../../../DaisyExamples/libDaisy/src/sys -I../../../DaisyExamples/libDaisy/src/usbd -I../../../DaisyExamples/libDaisy/src/usbh -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/Include/ -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/DSP/Include -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/Device/ST/STM32H7xx/Include -I../../../DaisyExamples/libDaisy/Drivers/STM32H7xx_HAL_Driver/Inc/ -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Device_Library/Core/Inc -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Host_Library/Core/Inc -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc -I../../../DaisyExamples/libDaisy/core/ -I../../../DaisyExamples/DaisySP/Source -I../../../DaisyExamples/libDaisy/Middlewares/Third_Party/FatFs/src -O2 -Wall -Wno-missing-attributes -fasm -fdata-sections -ffunction-sections -Wno-stringop-overflow -g -ggdb -MMD -MP -MF"build/pedal.d" -fno-exceptions -fasm -finline -finline-functions-called-once -fshort-enums -fno-move-loop-invariants -fno-unwind-tables -fno-rtti -Wno-register -std=gnu++14 -Wa,-a,-ad,-alms=build/pedal.lst pedal.cpp -o build/pedal.o
arm-none-eabi-g++  -c -mcpu=cortex-m7 -mthumb -mfpu=fpv5-d16 -mfloat-abi=hard -DPEDAL_MAIN=reso_main -DUSE_HAL_DRIVER -DSTM32H750xx -DHSE_VALUE=16000000  -DCORE_CM7 -DSTM32H750IB -DARM_MATH_CM7 -DUSE_FULL_LL_DRIVER -DBOOT_APP -include stm32h7xx.h -I../../../DaisyExamples/libDaisy -I../../../DaisyExamples/libDaisy/src/ -I../../../DaisyExamples/libDaisy/src/sys -I../../../DaisyExamples/libDaisy/src/usbd -I../../../DaisyExamples/libDaisy/src/usbh -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/Include/ -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/DSP/Include -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/Device/ST/STM32H7xx/Include -I../../../DaisyExamples/libDaisy/Drivers/STM32H7xx_HAL_Driver/Inc/ -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Device_Library/Core/Inc -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Host_Library/Core/Inc -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc -I../../../DaisyExamples/libDaisy/core/ -I../../../DaisyExamples/DaisySP/Source -I../../../DaisyExamples/libDaisy/Middlewares/Third_Party/FatFs/src -O2 -Wall -Wno-missing-attributes -fasm -fdata-sections -ffunction-sections -Wno-stringop-overflow -g -ggdb -MMD -MP -MF"build/spew.d" -fno-exceptions -fasm -finline -finline-functions-called-once -fshort-enums -fno-move-loop-invariants -fno-unwind-tables -fno-rtti -Wno-register -std=gnu++14 -Wa,-a,-ad,-alms=build/spew.lst spew.cpp -o build/spew.o
arm-none-eabi-g++  -c -mcpu=cortex-m7 -mthumb -mfpu=fpv5-d16 -mfloat-abi=hard -DPEDAL_MAIN=reso_main -DUSE_HAL_DRIVER -DSTM32H750xx -DHSE_VALUE=16000000  -DCORE_CM7 -DSTM32H750IB -DARM_MATH_CM7 -DUSE_FULL_LL_DRIVER -DBOOT_APP -include stm32h7xx.h -I../../../DaisyExamples/libDaisy -I../../../DaisyExamples/libDaisy/src/ -I../../../DaisyExamples/libDaisy/src/sys -I../../../DaisyExamples/libDaisy/src/usbd -I../../../DaisyExamples/libDaisy/src/usbh -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/Include/ -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/DSP/Include -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/Device/ST/STM32H7xx/Include -I../../../DaisyExamples/libDaisy/Drivers/STM32H7xx_HAL_Driver/Inc/ -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Device_Library/Core/Inc -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Host_Library/Core/Inc -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc -I../../../DaisyExamples/libDaisy/core/ -I../../../DaisyExamples/DaisySP/Source -I../../../DaisyExamples/libDaisy/Middlewares/Third_Party/FatFs/src -O2 -Wall -Wno-missing-attributes -fasm -fdata-sections -ffunction-sections -Wno-stringop-overflow -g -ggdb -MMD -MP -MF"build/hw.d" -fno-exceptions -fasm -finline -finline-functions-called-once -fshort-enums -fno-move-loop-invariants -fno-unwind-tables -fno-rtti -Wno-register -std=gnu++14 -Wa,-a,-ad,-alms=build/hw.lst hw.cpp -o build/hw.o
arm-none-eabi-g++  -c -mcpu=cortex-m7 -mthumb -mfpu=fpv5-d16 -mfloat-abi=hard -DPEDAL_MAIN=reso_main -DUSE_HAL_DRIVER -DSTM32H750xx -DHSE_VALUE=16000000  -DCORE_CM7 -DSTM32H750IB -DARM_MATH_CM7 -DUSE_FULL_LL_DRIVER -DBOOT_APP -include stm32h7xx.h -I../../../DaisyExamples/libDaisy -I../../../DaisyExamples/libDaisy/src/ -I../../../DaisyExamples/libDaisy/src/sys -I../../../DaisyExamples/libDaisy/src/usbd -I../../../DaisyExamples/libDaisy/src/usbh -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/Include/ -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/DSP/Include -I../../../DaisyExamples/libDaisy/Drivers/CMSIS/Device/ST/STM32H7xx/Include -I../../../DaisyExamples/libDaisy/Drivers/STM32H7xx_HAL_Driver/Inc/ -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Device_Library/Core/Inc -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Host_Library/Core/Inc -I../../../DaisyExamples/libDaisy/Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc -I../../../DaisyExamples/libDaisy/core/ -I../../../DaisyExamples/DaisySP/Source -I../../../DaisyExamples/libDaisy/Middlewares/Third_Party/FatFs/src -O2 -Wall -Wno-missing-attributes -fasm -fdata-sections -ffunction-sections -Wno-stringop-overflow -g -ggdb -MMD -MP -MF"build/load.d" -fno-exceptions -fasm -finline -finline-functions-called-once -fshort-enums -fno-move-loop-invariants -fno-unwind-tables -fno-rtti -Wno-register -std=gnu++14 -Wa,-a,-ad,-alms=build/load.lst load.cpp -o build/load.o
arm-none-eabi-g++  build/startup_stm32h750xx.o build/pedal.o build/spew.o build/hw.o build/load.o  -u _printf_float -mcpu=cortex-m7 -mthumb -mfpu=fpv5-d16 -mfloat-abi=hard --specs=nano.specs --specs=nosys.specs -T../../../DaisyExamples/libDaisy/core/STM32H750IB_sram.lds -L ../../board/target/thumbv7em-none-eabihf/debug -L../../../DaisyExamples/libDaisy/build -L ../../../DaisyExamples/DaisySP/build -lpedalboard -ldaisy -lc -lm -lnosys -ldaisysp -Wl,-Map=build/pedal.map,--cref -Wl,--gc-sections -Wl,--print-memory-usage -o build/pedal.elf
Memory region         Used Size  Region Size  %age Used
           FLASH:          0 GB       128 KB      0.00%
         DTCMRAM:       57072 B       128 KB     43.54%
            SRAM:      166136 B       480 KB     33.80%
      RAM_D2_DMA:         16 KB        32 KB     50.00%
          RAM_D2:          0 GB       256 KB      0.00%
          RAM_D3:          0 GB        64 KB      0.00%
         ITCMRAM:          0 GB        64 KB      0.00%
           SDRAM:          0 GB        64 MB      0.00%
       QSPIFLASH:          0 GB      7936 KB      0.00%
arm-none-eabi-objcopy -O ihex build/pedal.elf build/pedal.hex
arm-none-eabi-objcopy -O binary -S build/pedal.elf build/pedal.bin
~/pedal
~/pedal/lib/shim ~/pedal
dfu-util -a 0 -s 0x90040000:leave -D build/pedal.bin -d ,0483:df11
dfu-util 0.11

Copyright 2005-2009 Weston Schmidt, Harald Welte and OpenMoko Inc.
Copyright 2010-2021 Tormod Volden and Stefan Schmidt
This program is Free Software and has ABSOLUTELY NO WARRANTY
Please report bugs to http://sourceforge.net/p/dfu-util/tickets/

dfu-util: Warning: Invalid DFU suffix signature
dfu-util: A valid DFU suffix will be required in a future dfu-util release
dfu-util: No DFU capable USB device available
make: *** [program-dfu] Error 74
~/pedal/host ~/pedal
   Compiling autocfg v1.1.0
   Compiling libc v0.2.151
   Compiling semver v1.0.20
   Compiling bitflags v1.3.2
   Compiling cfg-if v1.0.0
   Compiling core-foundation-sys v0.8.6
   Compiling crc32fast v1.3.2
   Compiling semver-parser v0.7.0
   Compiling simd-adler32 v0.3.7
   Compiling adler v1.0.2
   Compiling semver v0.9.0
   Compiling miniz_oxide v0.7.1
   Compiling rustc_version v0.2.3
   Compiling foreign-types-shared v0.1.1
   Compiling foreign-types v0.3.2
   Compiling num-traits v0.2.17
   Compiling num-integer v0.1.45
   Compiling num-rational v0.4.1
   Compiling bare-metal v0.2.5
   Compiling fdeflate v0.3.1
   Compiling rustc_version v0.4.0
   Compiling flate2 v1.0.28
   Compiling color_quant v1.1.0
   Compiling nb v1.1.0
   Compiling pathfinder_simd v0.5.2
   Compiling core-foundation v0.9.4
   Compiling byteorder v1.5.0
   Compiling libm v0.2.8
   Compiling png v0.17.10
   Compiling nb v0.1.3
   Compiling dirs-sys-next v0.1.2
   Compiling same-file v1.0.6
   Compiling vcell v0.1.3
   Compiling core-graphics-types v0.1.3
   Compiling log v0.4.20
   Compiling bytemuck v1.14.0
   Compiling void v1.0.2
   Compiling core-graphics v0.22.3
   Compiling jpeg-decoder v0.3.0
   Compiling cortex-m v0.7.7
   Compiling plotters-backend v0.3.5
   Compiling font-kit v0.11.0
   Compiling weezl v0.1.7
   Compiling gif v0.12.0
   Compiling core-text v19.2.0
   Compiling pathfinder_geometry v0.5.1
   Compiling embedded-hal v0.2.7
   Compiling walkdir v2.4.0
   Compiling volatile-register v0.2.2
   Compiling dirs-next v2.0.0
   Compiling iana-time-zone v0.1.58
   Compiling bitfield v0.13.2
   Compiling circular-buffer v0.1.6
   Compiling image v0.24.7
   Compiling float-ord v0.2.0
   Compiling lazy_static v1.4.0
   Compiling chrono v0.4.31
   Compiling shared v0.1.0 (/Users/gmt/pedal/lib/shared)
   Compiling plotters-svg v0.3.5
   Compiling spin v0.9.8
   Compiling linked_list_allocator v0.10.5
   Compiling ttf-parser v0.17.1
   Compiling emballoc v0.2.0
   Compiling alloc-cortex-m v0.4.4
   Compiling hound v3.5.1
   Compiling board v0.1.0 (/Users/gmt/pedal/lib/board)
   Compiling plotters-bitmap v0.3.3
   Compiling plotters v0.3.5
   Compiling host v0.1.0 (/Users/gmt/pedal/lib/host)
   Compiling pedalhost v0.1.0 (/Users/gmt/pedal/host)
    Finished dev [unoptimized + debuginfo] target(s) in 5.38s
     Running `target/debug/sim`
hound::read::WavSamples<std::io::buffered::bufreader::BufReader<std::fs::File>, i16>
   Compiling pedalhost v0.1.0 (/Users/gmt/pedal/host)
    Finished test [unoptimized + debuginfo] target(s) in 0.21s
     Running unittests src/lib.rs (target/debug/deps/pedalhost-79456382a8631903)

running 1 test
test tests::atest ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/bin/graph.rs (target/debug/deps/graph-ea5074e14eb4b19b)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/bin/sim.rs (target/debug/deps/sim-afbaf934918ff638)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests pedalhost

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

~/pedal
